<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/ziprandom/cltk">
  <link href="../css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="../js/doc.js"></script>
  <title>CLTK::Scanner - github.com/ziprandom/cltk</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li><a href="../index.html">README</a></li>
  </ul>

  <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/toplevel" data-name="top level namespace">
      <a href="../toplevel.html">Top Level Namespace</a>
      
    </li>
  
  <li class="parent open current" data-id="github.com/ziprandom/cltk/CLTK" data-name="cltk">
      <a href="../CLTK.html">CLTK</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/ASTNode" data-name="cltk::astnode">
      <a href="../CLTK/ASTNode.html">ASTNode</a>
      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/CFG" data-name="cltk::cfg">
      <a href="../CLTK/CFG.html">CFG</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/CFG/GrammarError" data-name="cltk::cfg::grammarerror">
      <a href="../CLTK/CFG/GrammarError.html">GrammarError</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/CFG/Item" data-name="cltk::cfg::item">
      <a href="../CLTK/CFG/Item.html">Item</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/CFG/Production" data-name="cltk::cfg::production">
      <a href="../CLTK/CFG/Production.html">Production</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/CFG/ProductionBufferType" data-name="cltk::cfg::productionbuffertype">
      <a href="../CLTK/CFG/ProductionBufferType.html">ProductionBufferType</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/CFG/ProductionCallbackType" data-name="cltk::cfg::productioncallbacktype">
      <a href="../CLTK/CFG/ProductionCallbackType.html">ProductionCallbackType</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Lexer" data-name="cltk::lexer">
      <a href="../CLTK/Lexer.html">Lexer</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Lexer/BlockReturn" data-name="cltk::lexer::blockreturn">
      <a href="../CLTK/Lexer/BlockReturn.html">BlockReturn</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Lexer/Environment" data-name="cltk::lexer::environment">
      <a href="../CLTK/Lexer/Environment.html">Environment</a>
      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Lexer/Exceptions" data-name="cltk::lexer::exceptions">
      <a href="../CLTK/Lexer/Exceptions.html">Exceptions</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Lexer/Exceptions/LexingError" data-name="cltk::lexer::exceptions::lexingerror">
      <a href="../CLTK/Lexer/Exceptions/LexingError.html">LexingError</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Lexers" data-name="cltk::lexers">
      <a href="../CLTK/Lexers.html">Lexers</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Lexers/Calculator" data-name="cltk::lexers::calculator">
      <a href="../CLTK/Lexers/Calculator.html">Calculator</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Lexers/EBNF" data-name="cltk::lexers::ebnf">
      <a href="../CLTK/Lexers/EBNF.html">EBNF</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parser" data-name="cltk::parser">
      <a href="../CLTK/Parser.html">Parser</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Action" data-name="cltk::parser::action">
      <a href="../CLTK/Parser/Action.html">Action</a>
      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parser/Actions" data-name="cltk::parser::actions">
      <a href="../CLTK/Parser/Actions.html">Actions</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Actions/Accept" data-name="cltk::parser::actions::accept">
      <a href="../CLTK/Parser/Actions/Accept.html">Accept</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Actions/GoTo" data-name="cltk::parser::actions::goto">
      <a href="../CLTK/Parser/Actions/GoTo.html">GoTo</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Actions/Reduce" data-name="cltk::parser::actions::reduce">
      <a href="../CLTK/Parser/Actions/Reduce.html">Reduce</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Actions/Shift" data-name="cltk::parser::actions::shift">
      <a href="../CLTK/Parser/Actions/Shift.html">Shift</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/CrystalizeVisitor" data-name="cltk::parser::crystalizevisitor">
      <a href="../CLTK/Parser/CrystalizeVisitor.html">CrystalizeVisitor</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Environment" data-name="cltk::parser::environment">
      <a href="../CLTK/Parser/Environment.html">Environment</a>
      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions" data-name="cltk::parser::exceptions">
      <a href="../CLTK/Parser/Exceptions.html">Exceptions</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/BadToken" data-name="cltk::parser::exceptions::badtoken">
      <a href="../CLTK/Parser/Exceptions/BadToken.html">BadToken</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/HandledError" data-name="cltk::parser::exceptions::handlederror">
      <a href="../CLTK/Parser/Exceptions/HandledError.html">HandledError</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/InternalParserException" data-name="cltk::parser::exceptions::internalparserexception">
      <a href="../CLTK/Parser/Exceptions/InternalParserException.html">InternalParserException</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/NotInLanguage" data-name="cltk::parser::exceptions::notinlanguage">
      <a href="../CLTK/Parser/Exceptions/NotInLanguage.html">NotInLanguage</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/ParserConstructionException" data-name="cltk::parser::exceptions::parserconstructionexception">
      <a href="../CLTK/Parser/Exceptions/ParserConstructionException.html">ParserConstructionException</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Exceptions/UselessParserException" data-name="cltk::parser::exceptions::uselessparserexception">
      <a href="../CLTK/Parser/Exceptions/UselessParserException.html">UselessParserException</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Explain" data-name="cltk::parser::explain">
      <a href="../CLTK/Parser/Explain.html">Explain</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/Opts" data-name="cltk::parser::opts">
      <a href="../CLTK/Parser/Opts.html">Opts</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/ParserConcern" data-name="cltk::parser::parserconcern">
      <a href="../CLTK/Parser/ParserConcern.html">ParserConcern</a>
      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parser/ParseStack" data-name="cltk::parser::parsestack">
      <a href="../CLTK/Parser/ParseStack.html">ParseStack</a>
      
        <ul>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parser/ParseStack/OutputStackVisitor" data-name="cltk::parser::parsestack::outputstackvisitor">
      <a href="../CLTK/Parser/ParseStack/OutputStackVisitor.html">OutputStackVisitor</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/ParseStack/OutputStackVisitor/ProcsType" data-name="cltk::parser::parsestack::outputstackvisitor::procstype">
      <a href="../CLTK/Parser/ParseStack/OutputStackVisitor/ProcsType.html">ProcsType</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/ProdProc" data-name="cltk::parser::prodproc">
      <a href="../CLTK/Parser/ProdProc.html">ProdProc</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/StackType" data-name="cltk::parser::stacktype">
      <a href="../CLTK/Parser/StackType.html">StackType</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parser/State" data-name="cltk::parser::state">
      <a href="../CLTK/Parser/State.html">State</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/ziprandom/cltk/CLTK/Parsers" data-name="cltk::parsers">
      <a href="../CLTK/Parsers.html">Parsers</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parsers/InfixCalc" data-name="cltk::parsers::infixcalc">
      <a href="../CLTK/Parsers/InfixCalc.html">InfixCalc</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parsers/PostfixCalc" data-name="cltk::parsers::postfixcalc">
      <a href="../CLTK/Parsers/PostfixCalc.html">PostfixCalc</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Parsers/PrefixCalc" data-name="cltk::parsers::prefixcalc">
      <a href="../CLTK/Parsers/PrefixCalc.html">PrefixCalc</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent current" data-id="github.com/ziprandom/cltk/CLTK/Scanner" data-name="cltk::scanner">
      <a href="../CLTK/Scanner.html">Scanner</a>
      
        <ul>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Scanner/Environment" data-name="cltk::scanner::environment">
      <a href="../CLTK/Scanner/Environment.html">Environment</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Scanner/LexerCompatibility" data-name="cltk::scanner::lexercompatibility">
      <a href="../CLTK/Scanner/LexerCompatibility.html">LexerCompatibility</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Scanner/ProcType" data-name="cltk::scanner::proctype">
      <a href="../CLTK/Scanner/ProcType.html">ProcType</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Scanner/StreamPosition" data-name="cltk::scanner::streamposition">
      <a href="../CLTK/Scanner/StreamPosition.html">StreamPosition</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Scanner/Token" data-name="cltk::scanner::token">
      <a href="../CLTK/Scanner/Token.html">Token</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/StreamPosition" data-name="cltk::streamposition">
      <a href="../CLTK/StreamPosition.html">StreamPosition</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Token" data-name="cltk::token">
      <a href="../CLTK/Token.html">Token</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/TokenValue" data-name="cltk::tokenvalue">
      <a href="../CLTK/TokenValue.html">TokenValue</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/CLTK/Type" data-name="cltk::type">
      <a href="../CLTK/Type.html">Type</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/NamedTuple" data-name="namedtuple(**t)">
      <a href="../NamedTuple.html">NamedTuple</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/Object" data-name="object">
      <a href="../Object.html">Object</a>
      
    </li>
  
  <li class=" " data-id="github.com/ziprandom/cltk/StringScanner" data-name="stringscanner">
      <a href="../StringScanner.html">StringScanner</a>
      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1 class="type-name">

  <span class="kind">abstract class</span> CLTK::Scanner

</h1>


  <ul class="superclass-hierarchy"><li class="superclass"><a href="../CLTK/Scanner.html">CLTK::Scanner</a></li><li class="superclass">Reference</li><li class="superclass"><a href="../Object.html">Object</a></li></ul>




  <h2>Overview</h2>

  <p>A Lexer Class based on <a href="https://github.com/ziprandom/crystal-dfa" target="_blank">crystal-dfa</a> the Crystal RegExp implementation
of a Thompson NFA based DFA. Runs faster than (PCRE based) Regex implementations. Define a Lexer like:</p>

<pre><code><span class="k">class</span> <span class="t">CalcLexer</span> <span class="o"><</span> <span class="t">Scanner</span>
  <span class="c"># set a delimiter to strip the</span>
  <span class="c"># string before lexing for increased</span>
  <span class="c"># performance. defaults to &quot;\n&quot; which</span>
  <span class="c"># is fine for this example.</span>

  <span class="c"># self.pre_delimiter&#61;nil # no string splitting</span>
  <span class="c"># before lexing</span>

  <span class="c"># ignore space &amp; newline</span>
  rule(<span class="s">/&#91;\n\s&#93;/</span>)

  <span class="c"># operators are keywords, so we use</span>
  <span class="c"># stringrules to have one single</span>
  <span class="c"># dfa matching</span>
  rule(<span class="s">&quot;&#43;&quot;</span>)                { {<span class="n">:PLS</span>} }
  rule(<span class="s">&quot;-&quot;</span>)                { {<span class="n">:SUB</span>} }
  rule(<span class="s">&quot;*&quot;</span>)                { {<span class="n">:MUL</span>} }
  rule(<span class="s">&quot;/&quot;</span>)                { {<span class="n">:DIV</span>} }

  <span class="c"># ints and floats need to be matched with</span>
  <span class="c"># regular expressions &#40;doesn&#39;t use Regex but</span>
  <span class="c"># DFA::RegExp&#41;</span>
  rule(<span class="s">/\d&#43;\.\d&#43;/</span>)         { <span class="o">|</span>s<span class="o">|</span> {<span class="n">:FLOAT</span>, s} }
  rule(<span class="s">/\d&#43;/</span>)              { <span class="o">|</span>s<span class="o">|</span> {<span class="n">:INT</span>,   s} }

  <span class="c"># upon sighting of a &#39;#&#39; &#40;and optionally trailing &#39; &#39;&#41;</span>
  <span class="c"># we go into :comment state and don&#39;t leave until we</span>
  <span class="c"># find a &#39;\n&#39;</span>
  rule(<span class="s">/#\s*/</span>)             {     push_state(<span class="n">:comment</span>) }
  rule(<span class="s">/&#91;^\n&#93;&#43;/</span>, <span class="n">:comment</span>) { <span class="o">|</span>t<span class="o">|</span> {<span class="n">:COMMENT</span>, t}        }
  rule(<span class="s">&quot;\n&quot;</span>, <span class="n">:comment</span>)     {     pop_state            }

  <span class="c"># calculate the dfa&#39;s for the string-rules</span>
  <span class="c"># will be called upon first &#96;lex&#96; call if</span>
  <span class="c"># not invoked here</span>
  finalize
<span class="k">end</span>

source <span class="o">=</span> <span class="s">&lt;&lt;-source
#
# a simple calculation
#

4 &#43; 4  # the first addition
- 3.14 # a substraction
* 3

source</span>

pp <span class="t">CalcLexer</span>.lex(source).tokens   <span class="c"># &#61;&gt; &#91;&#123;:COMMENT, &quot;a simple calculation&quot;&#125;,</span>
                                  <span class="c">#     &#123;:INT, &quot;4&quot;&#125;,</span>
                                  <span class="c">#     &#123;:PLS&#125;,</span>
                                  <span class="c">#     &#123;:INT, &quot;4&quot;&#125;,</span>
                                  <span class="c">#     &#123;:COMMENT,</span>
                                  <span class="c">#      &quot;the first addition&quot;&#125;,</span>
                                  <span class="c">#     &#123;:SUB&#125;,</span>
                                  <span class="c">#     &#123;:FLOAT,</span>
                                  <span class="c">#      &quot;3.14&quot;&#125;,</span>
                                  <span class="c">#     &#123;:COMMENT,</span>
                                  <span class="c">#      &quot;a substraction&quot;&#125;,</span>
                                  <span class="c">#     &#123;:MUL&#125;,</span>
                                  <span class="c">#     &#123;:INT, &quot;3&quot;&#125;&#93;</span></code></pre>









  <h2>Direct Known Subclasses</h2>
  <ul class="other-types-list">
  
    <li class="other-type"><a href="../CLTK/Lexers/Calculator.html">CLTK::Lexers::Calculator</a></li>
  
    <li class="other-type"><a href="../CLTK/Lexers/EBNF.html">CLTK::Lexers::EBNF</a></li>
  
  </ul>






  <h2>Defined in:</h2>
  
    
      <a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L73" target="_blank">cltk/scanner.cr</a>
    
    <br/>
  





  <h2>Class Method Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#finalize-class-method" class="signature"><strong>.finalize</strong></a>
        
          <div class="summary"><p>finalize the Lexer by creating dfas for the provided string rules for fast keyword matching</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#lex%28string%3AString%29%3AEnvironment-class-method" class="signature"><strong>.lex</strong>(string : String) : Environment</a>
        
          <div class="summary"><p>lexes a string by continously matching the dfas against the string, yielding the callbacks with an instance of Environment</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#split_lines%3ABool-class-method" class="signature"><strong>.split_lines</strong> : Bool</a>
        
          <div class="summary"><p>In order to speed up lexing, the string might be split in single lines and therefore fed to the dfas in smaller chunks.</p></div>
        
      </li>
    
      <li class="entry-summary">
        <a href="#split_lines%3D%28split_lines%3ABool%29-class-method" class="signature"><strong>.split_lines=</strong>(split_lines : Bool)</a>
        
          <div class="summary"><p>In order to speed up lexing, the string might be split in single lines and therefore fed to the dfas in smaller chunks.</p></div>
        
      </li>
    
  </ul>





  <h2>Macro Summary</h2>
  <ul class="list-summary">
    
      <li class="entry-summary">
        <a href="#rule%28expression%2Cstate%3D%3Adefault%29-macro" class="signature"><strong>rule</strong>(expression, state = :default)</a>
        
          <div class="summary"><p>Defines a lexing rule.</p></div>
        
      </li>
    
  </ul>



<div class="methods-inherited">
  
    


    


  
    

  <h3>Instance methods inherited from class <code><a href="../Object.html">Object</a></code></h3>
  
  
    <a href="../Object.html#in%3F%28collection%3AArray%7CSet%29-instance-method" class="tooltip">
      <span>in?(collection : Array | Set)</span>
    in?</a>
    
  


    


  
</div>


  <h2>Class Method Detail</h2>
  
    <div class="entry-detail" id="finalize-class-method">
      <div class="signature">
        
        def self.<strong>finalize</strong>

        <a class="method-permalink" href="#finalize-class-method">#</a>
      </div>
      
        <div class="doc"><p>finalize the Lexer by creating dfas for the provided
string rules for fast keyword matching</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L189" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="lex&#40;string:String&#41;:Environment-class-method">
      <div class="signature">
        
        def self.<strong>lex</strong>(string : String) : <a href="../CLTK/Scanner/Environment.html">Environment</a>

        <a class="method-permalink" href="#lex%28string%3AString%29%3AEnvironment-class-method">#</a>
      </div>
      
        <div class="doc"><p>lexes a string by continously matching the dfas
against the string, yielding the callbacks with
an instance of Environment</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L203" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="split_lines:Bool-class-method">
      <div class="signature">
        
        def self.<strong>split_lines</strong> : Bool

        <a class="method-permalink" href="#split_lines%3ABool-class-method">#</a>
      </div>
      
        <div class="doc"><p>In order to speed up lexing, the string might be split
in single lines and therefore fed to the dfas in smaller
chunks. this is enabled by default, but can be disabled
with this class setter</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L89" target="_blank">View source</a>]
        
      </div>
    </div>
  
    <div class="entry-detail" id="split_lines&#61;&#40;split_lines:Bool&#41;-class-method">
      <div class="signature">
        
        def self.<strong>split_lines=</strong>(split_lines : Bool)

        <a class="method-permalink" href="#split_lines%3D%28split_lines%3ABool%29-class-method">#</a>
      </div>
      
        <div class="doc"><p>In order to speed up lexing, the string might be split
in single lines and therefore fed to the dfas in smaller
chunks. this is enabled by default, but can be disabled
with this class setter</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L89" target="_blank">View source</a>]
        
      </div>
    </div>
  





  <h2>Macro Detail</h2>
  
    <div class="entry-detail" id="rule&#40;expression,state&#61;:default&#41;-macro">
      <div class="signature">
        
        macro <strong>rule</strong>(expression, state = :default)

        <a class="method-permalink" href="#rule%28expression%2Cstate%3D%3Adefault%29-macro">#</a>
      </div>
      
        <div class="doc"><p>Defines a lexing rule. The expression can either
be a string or a <code>DFA::RegExp</code> compatible expression.
State indicates a Lexer State in which this Rule should
be applied. String Expressions for the same state get
combined in one alternating (..|..|..) DFA for faster
recognition. String Expressions should be used for
special keywords and symbols like: def, true or ":"</p></div>
      
      <br/>
      <div>
        
          [<a href="https://github.com/ziprandom/cltk/blob/e8bb684b8516acc6b0c97d25e6e795fb7272bcbc/src/cltk/scanner.cr#L179" target="_blank">View source</a>]
        
      </div>
    </div>
  


</div>

</body>
</html>
